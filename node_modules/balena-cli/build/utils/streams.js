"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Promise = require("bluebird");
const fs = require("fs");
function buffer(stream, bufferFile) {
    const fileWriteStream = fs.createWriteStream(bufferFile);
    return new Promise(function (resolve, reject) {
        stream
            .on('error', reject)
            .on('end', resolve)
            .pipe(fileWriteStream);
    }).then(() => new Promise(function (resolve, reject) {
        const stream = fs.createReadStream(bufferFile);
        stream.on('open', () => resolve(stream)).on('error', reject);
    }));
}
exports.buffer = buffer;
//# sourceMappingURL=streams.js.map
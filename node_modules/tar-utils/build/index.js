"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Promise = require("bluebird");
const path = require("path");
function normalizeTarEntry(name) {
    const normalized = path.normalize(name);
    if (path.isAbsolute(normalized)) {
        return normalized.substr(normalized.indexOf(path.sep) + 1);
    }
    return normalized;
}
exports.normalizeTarEntry = normalizeTarEntry;
function streamToBuffer(stream) {
    return new Promise((resolve, reject) => {
        const chunks = [];
        stream.on('data', (data) => chunks.push(data));
        stream.on('end', () => resolve(chunks));
        stream.on('error', reject);
    }).then(Buffer.concat);
}
exports.streamToBuffer = streamToBuffer;
//# sourceMappingURL=index.js.map